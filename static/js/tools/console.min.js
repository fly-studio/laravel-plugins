/*! console.js 2016-10-28 17:19:48*/
!function(o){o().ready(function(){var n={},e=o("#console"),i=o("#console-command"),m=o("#console-view");n.command={histories:[""],historyIndex:0},n.maximize=function(){e.css({top:0,height:"100%"})},n.minimize=function(){e.css({top:"auto",height:"200px"})},n.remove=function(){e.remove()},n.console=function(o,e,i,m){o&&n.console.command(o,e),i&&n.console.result(i,m),n.command.focus()},n.console.command=function(o,e){n.console.result('<span class="command">['+(e>0?new Date(1e3*e):new Date).toString()+"] > "+o+"</span>",!1)},n.console.result=function(o,n){var e=m.append((n?o.toPre():o)+"<br />").parent(".view");e.stop(!0,!0).animate({scrollTop:e[0].scrollHeight})},n.console.clean=function(){m.empty()},n.command.push=function(o){o!=n.command.histories[n.command.histories.length-1]&&n.command.histories.push(o),n.command.historyIndex=n.command.histories.length},n.command.up=function(){--n.command.historyIndex<0&&(n.command.historyIndex=n.command.histories.length-1),i.val(n.command.histories[n.command.historyIndex])},n.command.down=function(){++n.command.historyIndex>=n.command.histories.length&&(n.command.historyIndex=0),i.val(n.command.histories[n.command.historyIndex])},n.command.focus=function(){i.val("").focus()},o("#console-form").on("submit",function(o){var e=i.val();return"clean"==e?(n.console.clean(),n.console(e),o.stopImmediatePropagation(),!1):""==e?(o.stopImmediatePropagation(),!1):void 0}).query(function(o){n.command.push(o.data.command),n.console(o.data.command,o.time,"success"==o.result?o.data.result:o.message.content,!0)},!1),o('[data-toggle="tooltip"]',e).tooltip(),o(".maximize",e).on("click",function(i){return n.maximize(),o(".minimize",e).removeClass("hide"),o(this).addClass("hide"),!1}),o(".minimize",e).on("click",function(i){return n.minimize(),o(".maximize",e).removeClass("hide"),o(this).addClass("hide"),!1}),o(".remove",e).on("click",function(o){return n.remove(),!1}),i.on("keyup",function(o){38==o.which?n.command.up():40==o.which&&n.command.down()})})}(jQuery);